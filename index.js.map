{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/refs.js","../src/main.js"],"sourcesContent":["//string const\nexport const _OK = \"OK\";\nexport const _NO = \"NO\";\n\nexport const type_STRING = \"string\";\nexport const type_NUM = \"num\";\nexport const type_DATE = \"date\";\n\nexport const state_OK = \"Success\";\nexport const state_ERROR = \"Error\";\n\nexport const col_red = \"#ef4040\";\nexport const col_green = \"#008000\";\n\nexport const format_DATA = {\n\tday: \"numeric\",\n\tmonth: \"long\",\n\tyear: \"numeric\",\n};","\n\nimport * as CONST from \"./constants\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nexport function checkValidate(value, type, field = \"\") {\n\n\tconst objVal = mainCheck(value, type, field);\n\n\tif (objVal.state === CONST._OK) {\n\t\treturn true;\n\t}\n\tshowNotification(CONST.state_ERROR, objVal.message);\n\treturn false;\n}\n\n\nexport function showNotification(state, message, type = CONST.col_red) {\n\tiziToast.show({\n\t\tid: String(state).toLocaleLowerCase(),\n\t\ttitle: state,\n\t\tmessage: message,\n\t\tmessageColor: 'white',\n\t\tcolor: type,\n\t\tposition: 'bottomCenter',\n\t});\n}\n\nfunction mainCheck(value, type, field = \"\") {\n\tconst returnObj = { state: \"\", message: \"\" };\n\tlet p_OK = \"\";\n\n\tswitch (type) {\n\t\tcase CONST.type_STRING:\n\t\t\tp_OK = value.trim().length > 3 ? CONST._OK : CONST._NO;\n\t\t\treturnObj.state = p_OK;\n\t\t\treturnObj.message = p_OK === CONST._OK ? \"\" : field + \"! Enter valid data. More than 3 length\";\n\t\t\tbreak;\n\t\tcase CONST.type_NUM:\n\t\t\tp_OK = Number(value.trim()) > 0 ? CONST._OK : CONST._NO;\n\t\t\treturnObj.state = p_OK;\n\t\t\treturnObj.message = p_OK === CONST._OK ? \"\" : field + \"!Enter valid data. Number req\";\n\t\t\tbreak;\n\t\tcase CONST.type_DATE:\n\t\t\tp_OK = value > new Date() ? CONST._OK : CONST._NO;\n\t\t\treturnObj.state = p_OK;\n\t\t\treturnObj.message = p_OK === CONST._OK ? \"\" : field + \"!Enter valid date. Please choose a date in the future\";\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturnObj.state = CONST._NO;\n\t\t\treturnObj.message = CONST.state_ERROR;\n\t}\n\treturn returnObj;\n\n}","/*\n  Створи список справ.\n  На сторінці є два інпути які має вводиться назва і текст задачі.\n  Після натискання на кнопку \"Add\" завдання додається до списку #task-list.\n\n  У кожної картки має бути кнопка \"Delete\", щоб можна було\n  прибрати завдання зі списку.\n  Список із завданнями має бути доступним після перезавантаження сторінки.\n\n  Розмітка картки задачі\n  <li class=\"task-list-item\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>Заголовок</h3>\n      <p>Текст</p>\n  </li>\n*/\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport { checkValidate, showNotification } from \"./js/refs\";\nimport * as CONST from \"./js/constants\";\n\nconst eventList = document.querySelector(\"ul.tasks-list\");\n\nconst formInput = document.querySelector(\".header-form\");\n\nconst inputTitle = document.querySelector(\"input[name='taskName']\");\nconst inputTask = document.querySelector(\"input[name='taskDescription']\");\nconst inputDate = document.querySelector(\"input[name='dateTime']\");\n\nlet userSelectedDate;\n\nconst options = {\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    //console.log(userSelectedDate);\n\n    checkValidate(userSelectedDate, CONST.type_DATE, \"Date\")\n  },\n};\n\nflatpickr(inputDate, options);\n\nfunction addEvent() {\n  const titleValue = inputTitle.value.trim();\n  const titleDesc = inputTask.value.trim();\n\n  try {\n    const selectedDate = new Date(inputDate.value.trim());\n  }\n  catch {\n    showNotification(CONST.state_ERROR, \"Can not read entered date\");\n    return;\n  }\n\n  if (!checkValidate(userSelectedDate, CONST.type_DATE, \"Date\")) {\n    return;\n  }\n\n  if (!checkValidate(titleValue, CONST.type_STRING, \"Title\")) {\n    return;\n  }\n\n  if (!checkValidate(titleDesc, CONST.type_STRING, \"Description\")) {\n    return;\n  }\n\n  const newEl =\n    `<li class=\"task-list-item\">\n  <button class=\"task-list-item-btn\">Delete</button>\n  <h3>${titleValue.trim()}</h3>\n  <p>${titleDesc.trim()}</p>\n  <p>${userSelectedDate.toLocaleString(\"uk-UA\", CONST.format_DATA)}</p>\n  </li>`;\n\n  //console.log(newEl);\n\n  eventList.insertAdjacentHTML(\"beforeend\", newEl);\n\n  formInput.reset();\n\n  showNotification(CONST.state_OK, \"Event added\", CONST.col_green);\n\n}\n\n\nformInput.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  addEvent();\n});"],"names":["_OK","_NO","type_STRING","type_NUM","type_DATE","state_OK","state_ERROR","col_red","col_green","format_DATA","checkValidate","value","type","field","objVal","mainCheck","CONST._OK","showNotification","CONST.state_ERROR","state","message","CONST.col_red","iziToast","returnObj","p_OK","CONST.type_STRING","CONST._NO","CONST.type_NUM","CONST.type_DATE","eventList","formInput","inputTitle","inputTask","inputDate","userSelectedDate","options","selectedDates","flatpickr","addEvent","titleValue","titleDesc","selectedDate","newEl","CONST.format_DATA","CONST.state_OK","CONST.col_green","e"],"mappings":"6vBACO,MAAMA,EAAM,KACNC,EAAM,KAENC,EAAc,SACdC,EAAW,MACXC,EAAY,OAEZC,EAAW,UACXC,EAAc,QAEdC,EAAU,UACVC,EAAY,UAEZC,EAAc,CAC1B,IAAK,UACL,MAAO,OACP,KAAM,SACP,ECTO,SAASC,EAAcC,EAAOC,EAAMC,EAAQ,GAAI,CAEtD,MAAMC,EAASC,EAAUJ,EAAOC,EAAMC,CAAK,EAE3C,OAAIC,EAAO,QAAUE,EACb,IAERC,EAAiBC,EAAmBJ,EAAO,OAAO,EAC3C,GACR,CAGO,SAASG,EAAiBE,EAAOC,EAASR,EAAOS,EAAe,CACtEC,EAAS,KAAK,CACb,GAAI,OAAOH,CAAK,EAAE,kBAAmB,EACrC,MAAOA,EACP,QAASC,EACT,aAAc,QACd,MAAOR,EACP,SAAU,cACZ,CAAE,CACF,CAEA,SAASG,EAAUJ,EAAOC,EAAMC,EAAQ,GAAI,CAC3C,MAAMU,EAAY,CAAE,MAAO,GAAI,QAAS,EAAE,EAC1C,IAAIC,EAAO,GAEX,OAAQZ,EAAI,CACX,KAAKa,EACJD,EAAOb,EAAM,KAAM,EAAC,OAAS,EAAIK,EAAYU,EAC7CH,EAAU,MAAQC,EAClBD,EAAU,QAAUC,IAASR,EAAY,GAAKH,EAAQ,yCACtD,MACD,KAAKc,EACJH,EAAO,OAAOb,EAAM,KAAM,CAAA,EAAI,EAAIK,EAAYU,EAC9CH,EAAU,MAAQC,EAClBD,EAAU,QAAUC,IAASR,EAAY,GAAKH,EAAQ,gCACtD,MACD,KAAKe,EACJJ,EAAOb,EAAQ,IAAI,KAASK,EAAYU,EACxCH,EAAU,MAAQC,EAClBD,EAAU,QAAUC,IAASR,EAAY,GAAKH,EAAQ,wDACtD,MACD,QACCU,EAAU,MAAQG,EAClBH,EAAU,QAAUL,CACrB,CACD,OAAOK,CAER,CCnCA,MAAMM,EAAY,SAAS,cAAc,eAAe,EAElDC,EAAY,SAAS,cAAc,cAAc,EAEjDC,EAAa,SAAS,cAAc,wBAAwB,EAC5DC,EAAY,SAAS,cAAc,+BAA+B,EAClEC,EAAY,SAAS,cAAc,wBAAwB,EAEjE,IAAIC,EAEJ,MAAMC,EAAU,CACd,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBF,EAAmBE,EAAc,CAAC,EAGlC1B,EAAcwB,EAAkBN,EAAiB,MAAM,CACxD,CACH,EAEAS,EAAUJ,EAAWE,CAAO,EAE5B,SAASG,GAAW,CAClB,MAAMC,EAAaR,EAAW,MAAM,KAAI,EAClCS,EAAYR,EAAU,MAAM,KAAI,EAEtC,GAAI,CACF,MAAMS,EAAe,IAAI,KAAKR,EAAU,MAAM,KAAI,CAAE,CACrD,MACK,CACJhB,EAAiBC,EAAmB,2BAA2B,EAC/D,MACD,CAUD,GARI,CAACR,EAAcwB,EAAkBN,EAAiB,MAAM,GAIxD,CAAClB,EAAc6B,EAAYd,EAAmB,OAAO,GAIrD,CAACf,EAAc8B,EAAWf,EAAmB,aAAa,EAC5D,OAGF,MAAMiB,EACJ;AAAA;AAAA,QAEIH,EAAW,MAAM;AAAA,OAClBC,EAAU,MAAM;AAAA,OAChBN,EAAiB,eAAe,QAASS,CAAiB,CAAC;AAAA,SAKhEd,EAAU,mBAAmB,YAAaa,CAAK,EAE/CZ,EAAU,MAAK,EAEfb,EAAiB2B,EAAgB,cAAeC,CAAe,CAEjE,CAGAf,EAAU,iBAAiB,SAAWgB,GAAM,CAC1CA,EAAE,eAAc,EAChBR,GACF,CAAC"}